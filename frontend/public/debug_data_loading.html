<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åŠ è½½è°ƒè¯•</title>
</head>
<body>
    <h1>æ•°æ®åŠ è½½è°ƒè¯•</h1>
    <div id="status">å‡†å¤‡å¼€å§‹...</div>
    <div id="details"></div>
    <button onclick="testDataLoading()">é‡æ–°æµ‹è¯•</button>
    
    <script>
        async function testDataLoading() {
            const statusDiv = document.getElementById('status');
            const detailsDiv = document.getElementById('details');
            
            try {
                statusDiv.innerHTML = 'ğŸ”„ å¼€å§‹åŠ è½½æ•°æ®...';
                detailsDiv.innerHTML = '';
                
                console.log('å¼€å§‹åŠ è½½æ•°æ®...');
                
                const response = await fetch('/data/frontend_data.json');
                console.log('Fetch response status:', response.status, response.ok);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                console.log('æ•°æ®åŠ è½½æˆåŠŸï¼ŒåŸå§‹æ•°æ®:', data);
                
                // éªŒè¯æ•°æ®ç»“æ„
                const universities = Array.isArray(data.universities) ? data.universities : [];
                const majors = Array.isArray(data.majors) ? data.majors : [];
                const countries = Array.isArray(data.countries) ? data.countries : [];
                const targetMajors = Array.isArray(data.target_majors) ? data.target_majors : [];
                
                console.log('éªŒè¯åçš„æ•°æ®:', {
                    universities: universities.length,
                    majors: majors.length,
                    countries: countries.length,
                    targetMajors: targetMajors.length
                });
                
                statusDiv.innerHTML = 'âœ… æ•°æ®åŠ è½½æˆåŠŸï¼';
                detailsDiv.innerHTML = `
                    <h3>æ•°æ®ç»Ÿè®¡:</h3>
                    <p>é™¢æ ¡æ•°é‡: ${universities.length}</p>
                    <p>ä¸“ä¸šæ•°é‡: ${majors.length}</p>
                    <p>å›½å®¶æ•°é‡: ${countries.length}</p>
                    <p>ç›®æ ‡ä¸“ä¸šæ•°é‡: ${targetMajors.length}</p>
                    <h3>å‰5æ‰€é™¢æ ¡:</h3>
                    <p>${universities.slice(0, 5).join(', ')}</p>
                    <h3>å‰5ä¸ªä¸“ä¸š:</h3>
                    <p>${majors.slice(0, 5).join(', ')}</p>
                `;
                
            } catch (error) {
                console.error('æ•°æ®åŠ è½½å¤±è´¥:', error);
                statusDiv.innerHTML = `âŒ æ•°æ®åŠ è½½å¤±è´¥: ${error.message}`;
                detailsDiv.innerHTML = `
                    <h3>é”™è¯¯è¯¦æƒ…:</h3>
                    <p>é”™è¯¯ç±»å‹: ${error.constructor.name}</p>
                    <p>é”™è¯¯æ¶ˆæ¯: ${error.message}</p>
                    <p>é”™è¯¯å †æ ˆ: ${error.stack}</p>
                `;
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æµ‹è¯•
        window.addEventListener('load', testDataLoading);
    </script>
</body>
</html>
